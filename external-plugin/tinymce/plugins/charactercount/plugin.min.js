tinymce.PluginManager.add("charactercount",function(a){function c(){a.theme.panel.find("#charactercount").text(["Characters: {0}",b.getCount()])}function d(a){var b=document.createElement("textarea");return b.innerHTML=a,b.value}var b=this;a.on("init",function(){var d=a.theme.panel&&a.theme.panel.find("#statusbar")[0];d&&window.setTimeout(function(){d.insert({type:"label",name:"charactercount",text:["Characters: {0}",b.getCount()],classes:"charactercount",disabled:a.settings.readonly},0),a.on("setcontent beforeaddundo",c),a.on("keyup",function(a){c()})},0)}),b.getCount=function(){var b=a.getContent({format:"raw"}),c=d(b),e=c.replace(/(<([^>]+)>)/gi,"").trim(),f=e.length;return f}});
